<html>
<div class="center-align">
  Teachers <br><br>
  <a id="ft-edit-button" class="waves-effect waves-light btn-small green darken-1"
    onclick="toggleFinalTeacherTextInput()"><i class="material-icons right">email</i>EDIT</a>
  <a id="fTEmailButton" class="waves-effect waves-light btn-small disabled green darken-1"
    onclick="confirmSendFinalTeacherEmails()"><i class="material-icons right">
      <div id="fTEmailButtonIcon">lock_outline</div>
    </i>SEND</a>
<script>


  //Handle SENDING final teacher emails
  function confirmSendFinalTeacherEmails() {
    confirmExecution(sendFinalTeacherEmails, "Are you sure you would like to send the final teacher emails?");
  }

  function sendFinalTeacherEmails() {
    setTitleText("Sending Final Teacher Emails")
    showProgressBar();
    try {
      google.script.run
      .withSuccessHandler(handleFinalTeacherEmailSendResult)
      .withFailureHandler(toastUnknownError)
      .sendFinalTeacherEmails();
    } catch (e) {
      toastUnknownError();
      hideProgressBar();
    }
  }

  function handleFinalTeacherEmailSendResult(response) {
    setTitleTextFinished();
    toastResponseWithMsg(response)
    hideProgressBar();
    google.script.run
      .withSuccessHandler(doFinalSectionUpdate)
      .withFailureHandler(toastUnknownError)
      .getProgramState();
    resetTitleText();
  }
  
</script>

</html>